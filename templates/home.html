{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<!-- Hero Section Carousel -->
 
<section class="hero-section"  style="margin-top: 100px;" >
    
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="display-4 mb-4">Buy our high quality books for your Kids</h1>
                            <p class="lead mb-4">Discover top Books under â‚µ50</p>
                            <a href="{% url 'store' %}" class="btn btn-primary btn-lg">Shop Now</a>
                        </div>
                        <div class="col-lg-6">
                            <div class="hero-image-wrap">
                                <img src="{% static 'images/banners/bookB.jpg' %}" class="img-fluid rounded shadow" alt="Kitchen Tools">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="display-4 mb-4">All in one chop box</h1>
                            <p class="lead mb-4">Buy already filled chopbox</p>
                            <a href="{% url 'store' %}" class="btn btn-primary btn-lg">Explore Collection</a>
                        </div>
                        <div class="col-lg-6">
                            <div class="hero-image-wrap">
                                <img src="{% static 'images/banners/chopbox.jpg' %}" class="img-fluid rounded shadow" alt="chopbox">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="display-4 mb-4">Stationary</h1>
                            <p class="lead mb-4">All your stationary items here </p>
                            <a href="{% url 'store' %}" class="btn btn-primary btn-lg">View Stationary</a>
                        </div>
                        <div class="col-lg-6">
                            <div class="hero-image-wrap">
                                <img src="{% static 'images/banners/stationary.jpg' %}" class="img-fluid rounded shadow" alt="Cooking Utensils">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="display-4 mb-4">Provisions</h1>
                            <p class="lead mb-4">provisions made easier for your school needs</p>
                            <a href="{% url 'store' %}" class="btn btn-primary btn-lg">Shop provisions</a>
                        </div>
                        <div class="col-lg-6">
                            <div class="hero-image-wrap">
                                <img src="{% static 'images/banners/provisions.jpg' %}" class="img-fluid rounded shadow" alt="Meal Prep Tools">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div class="content" >
        {% include 'partials/_nav.html' %}
      </div>
</section>

<!-- Existing Products Section -->
<section id="products" class="section-products padding-y-sm">
    <div class="container">
        <h2 class="text-center mb-5">Featured Products</h2>
        
        <div class="row g-4">
            {% for product in products %}
            <div class="col-md-3">
                <div class="card product-card h-100 border-0 shadow-sm">
                    <div class="position-relative">
                        <a href="{{ product.get_url }}">
                            <img src="{{ product.images.url }}" class="card-img-top" alt="{{ product.product_name }}">
                        </a>
                        <div class="rating-badge">
                            <span class="rating-stars">
                                {% for i in "12345" %}
                                    {% with i_num=i|add:"0" %}
                                        <i class="fa 
                                            {% if product.averageReview >= i_num %}fa-star text-warning
                                            {% elif product.averageReview > i_num|add:"-1" %}fa-star-half-o text-warning
                                            {% else %}fa-star-o
                                            {% endif %}" 
                                            aria-hidden="true">
                                        </i>
                                    {% endwith %}
                                {% endfor %}
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">
                            <a href="{{ product.get_url }}" class="text-decoration-none text-dark">{{ product.product_name }}</a>
                        </h5>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="price h5 mb-0">GHS {{ product.price|intcomma }}</span>
                            <a href="{{ product.get_url }}" class="btn btn-outline-primary btn-sm">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="card shadow-lg border-0 rounded-4 my-5">
        <!-- Modern About Section with Visual Elements -->
<section class="about-section py-5 mb-5">
    <div class="container">
      <!-- Section Title with Animated Underline -->
      <div class="row justify-content-center mb-5">
        <div class="col-lg-8 text-center">
          <h2 class="display-4 fw-bold text-primary position-relative animated-title">
            About Backtoschool
            <span class="title-underline"></span>
          </h2>
          <p class="lead text-muted">Your ultimate educational resource partner</p>
        </div>
      </div>
      
      <!-- Main Content with Card Grid -->
      <div class="row g-4">
        <!-- Mission Card -->
        <div class="col-md-6 col-lg-3">
          <div class="card h-100 border-0 shadow-lg rounded-4 hover-card">
            <div class="card-body p-4 text-center">
              <div class="icon-circle mb-4">
                <i class="fas fa-bullseye fa-2x text-primary"></i>
              </div>
              <h4 class="card-title fw-bold mb-3">Our Mission</h4>
              <p class="card-text">Supporting students on their educational journey by providing reliable access to quality tools they need to succeed.</p>
            </div>
          </div>
        </div>
        
        <!-- Products Card -->
        <div class="col-md-6 col-lg-3">
          <div class="card h-100 border-0 shadow-lg rounded-4 hover-card">
            <div class="card-body p-4 text-center">
              <div class="icon-circle mb-4">
                <i class="fas fa-book fa-2x text-primary"></i>
              </div>
              <h4 class="card-title fw-bold mb-3">Our Products</h4>
              <p class="card-text">Wide range of books, stationery, provisions, and educational essentials all at affordable prices.</p>
            </div>
          </div>
        </div>
        
        <!-- Service Card -->
        <div class="col-md-6 col-lg-3">
          <div class="card h-100 border-0 shadow-lg rounded-4 hover-card">
            <div class="card-body p-4 text-center">
              <div class="icon-circle mb-4">
                <i class="fas fa-shipping-fast fa-2x text-primary"></i>
              </div>
              <h4 class="card-title fw-bold mb-3">Our Service</h4>
              <p class="card-text">Fast, reliable shipping with easy-to-navigate online store for convenient shopping experience.</p>
            </div>
          </div>
        </div>
        
        <!-- Promise Card -->
        <div class="col-md-6 col-lg-3">
          <div class="card h-100 border-0 shadow-lg rounded-4 hover-card">
            <div class="card-body p-4 text-center">
              <div class="icon-circle mb-4">
                <i class="fas fa-handshake fa-2x text-primary"></i>
              </div>
              <h4 class="card-title fw-bold mb-3">Our Promise</h4>
              <p class="card-text">We believe every student deserves the best, and we're committed to making that a reality.</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Story Section with Image -->
      <div class="row align-items-center mt-5 gx-5">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <div class="position-relative rounded-4 overflow-hidden shadow-lg">
            <!-- <img src="{% static 'images/banners/about-us.jpg' %}" class="img-fluid" alt="Backtoschool Team" onerror="this.src='/api/placeholder/800/500'"> -->
            <div class="image-overlay"></div>
          </div>
        </div>
        <div class="col-lg-6">
          <h3 class="fw-bold mb-4 text-primary">We're Here To Help You Succeed</h3>
          <p class="fs-5 mb-4">
            <strong>Backtoschool</strong> is your one-stop shop for all academic essentials. We understand the challenges students face and have created a solution that makes accessing educational supplies simple and affordable.
          </p>
          <p class="fs-5 mb-4">
            Our easy-to-navigate online store lets you browse and purchase from the comfort of your home. We pride ourselves on fast, reliable shipping to ensure you receive your order promptly.
          </p>
          
          <!-- Testimonial Quote -->
          <blockquote class="blockquote bg-light p-4 rounded-4 border-start border-5 border-primary shadow-sm">
            <p class="mb-0 fst-italic">
              "Thank you for choosing Backtoschool. We're honored to support your academic goals."
            </p>
            <footer class="blockquote-footer mt-2">The Backtoschool Team</footer>
          </blockquote>
        </div>
      </div>
      
      <!-- Help Section -->
      <div class="row mt-5">
        <div class="col-12">
          <div class="bg-primary text-white p-5 rounded-4 shadow-lg">
            <div class="row align-items-center">
              <div class="col-lg-8">
                <h3 class="fw-bold mb-3">Need Help?</h3>
                <p class="fs-5 mb-0">
                  Our friendly customer service team is ready to assist you. Don't hesitate to reach out for any questions or support.
                </p>
              </div>
              <div class="col-lg-4 text-lg-end mt-4 mt-lg-0">
                <a href="#" class="btn btn-light btn-lg rounded-pill px-4 fw-bold">Contact Us</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
 
    <!-- Chatbot Toggle Button -->
<button id="chatbot-button" onclick="toggleChatbot()">
    <div class="chatbot-button-content">
      <div class="chatbot-icon">
        <i class="fas fa-comment-dots"></i>
      </div>
      <span class="pulse-ring"></span>
    </div>
  </button>
  
  <!-- Chatbot Container -->
  <div id="chatbot-box">
    <!-- Header -->
    <div id="chatbot-header">
      <div class="chatbot-title">
        <img src="{% static 'images/logo.png' %}" alt="Logo" class="chatbot-logo" >
        <span>Backtoschool Assistant</span>
      </div>
      <div class="chatbot-controls">
        <button class="minimize-btn" onclick="minimizeChatbot()">
          <i class="fas fa-minus"></i>
        </button>
        <button class="close-btn" onclick="toggleChatbot()">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
  
    <!-- Messages Area -->
    <div id="chatbot-messages">
      <div class="bot-message">
        <div class="bot-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
          <p>Hi there! ðŸ‘‹ I'm your Backtoschool assistant. How can I help with your school supply needs today?</p>
          <span class="timestamp">Just now</span>
        </div>
      </div>
      <div class="quick-replies">
        <button onclick="sendQuickReply('Tell me about your books')">Books</button>
        <button onclick="sendQuickReply('What uniforms do you have?')">Uniforms</button>
        <button onclick="sendQuickReply('Do you have dormitory supplies?')">Dorm Items</button>
        <button onclick="sendQuickReply('How does delivery work?')">Delivery</button>
      </div>
    </div>
  
    <!-- Typing Indicator (hidden by default) -->
    <div id="typing-indicator" style="display: none;">
      <div class="dot-typing"></div>
      <span>Assistant is typing...</span>
    </div>
  
    <!-- Input Area -->
    <div id="chatbot-input">
      <input type="text" id="user-input" placeholder="Type your question here..." onkeypress="if(event.key === 'Enter') sendMessage()"/>
      <button onclick="sendMessage()">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>

      </div>
      
</section>


<!-- Add this JavaScript to your script section -->
<script>
    function toggleChatbot() {
      const box = document.getElementById('chatbot-box');
      box.classList.toggle('open');
      
      // Reset minimized state when closing
      if (!box.classList.contains('open')) {
        box.classList.remove('minimized');
      }
      
      // Scroll to bottom when opening
      if (box.classList.contains('open')) {
        scrollToBottom();
      }
    }
    
    function minimizeChatbot() {
      const box = document.getElementById('chatbot-box');
      box.classList.toggle('minimized');
    }
    
    function scrollToBottom() {
      const chatMessages = document.getElementById('chatbot-messages');
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function getCurrentTime() {
  const now = new Date();
  let hours = now.getHours();
  let minutes = now.getMinutes();
  const ampm = hours >= 12 ? 'PM' : 'AM';
  
  hours = hours % 12;
  hours = hours ? hours : 12; // the hour '0' should be '12'
  minutes = minutes < 10 ? '0' + minutes : minutes;
  
  return hours + ':' + minutes + ' ' + ampm;
}

function sendMessage() {
  const input = document.getElementById('user-input');
  const message = input.value.trim();
  
  if (message === '') return;
  
  // Clear input
  input.value = '';
  
  // Add user message
  addUserMessage(message);
  
  // Show typing indicator
  showTypingIndicator();
  
  // Process the message and get response (simulated delay)
  setTimeout(() => {
    // Hide typing indicator
    hideTypingIndicator();
    
    // Add bot response
    processUserMessage(message);
  }, 1000 + Math.random() * 1000); // Random delay between 1-2 seconds
}

function sendQuickReply(message) {
  // Add user message
  addUserMessage(message);
  
  // Show typing indicator
  showTypingIndicator();
  
  // Process the message and get response (simulated delay)
  setTimeout(() => {
    // Hide typing indicator
    hideTypingIndicator();
    
    // Add bot response
    processUserMessage(message);
  }, 1000 + Math.random() * 1000); // Random delay between 1-2 seconds
}

function addUserMessage(message) {
  const chatMessages = document.getElementById('chatbot-messages');
  const messageElement = document.createElement('div');
  messageElement.className = 'user-message';
  
  messageElement.innerHTML = `
    <div class="user-avatar">
      <i class="fas fa-user"></i>
    </div>
    <div class="message-content">
      <p>${escapeHtml(message)}</p>
      <span class="timestamp">${getCurrentTime()}</span>
    </div>
  `;
  
  chatMessages.appendChild(messageElement);
  scrollToBottom();
}

function addBotMessage(message) {
  const chatMessages = document.getElementById('chatbot-messages');
  const messageElement = document.createElement('div');
  messageElement.className = 'bot-message';
  
  messageElement.innerHTML = `
    <div class="bot-avatar">
      <i class="fas fa-robot"></i>
    </div>
    <div class="message-content">
      <p>${message}</p>
      <span class="timestamp">${getCurrentTime()}</span>
    </div>
  `;
  
  chatMessages.appendChild(messageElement);
  scrollToBottom();
}

function addQuickReplies(options) {
  const chatMessages = document.getElementById('chatbot-messages');
  const quickRepliesElement = document.createElement('div');
  quickRepliesElement.className = 'quick-replies';
  
  let buttonsHtml = '';
  options.forEach(option => {
    buttonsHtml += `<button onclick="sendQuickReply('${option}')">${option}</button>`;
  });
  
  quickRepliesElement.innerHTML = buttonsHtml;
  chatMessages.appendChild(quickRepliesElement);
  scrollToBottom();
}

function showTypingIndicator() {
  document.getElementById('typing-indicator').style.display = 'flex';
  scrollToBottom();
}

function hideTypingIndicator() {
  document.getElementById('typing-indicator').style.display = 'none';
}

function escapeHtml(text) {
  const map = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#039;'
  };
  
  return text.replace(/[&<>"']/g, function(m) { return map[m]; });
}

function processUserMessage(message) {
  message = message.toLowerCase();
  
  // Define responses for different queries
  if (message.includes('book') || message.includes('textbook')) {
    addBotMessage("We have a wide range of textbooks for all grade levels. Our collection includes math, science, literature, history, and more. Would you like information about a specific subject?");
    addQuickReplies(["Math books", "Science books", "Literature", "History books"]);
  }
  else if (message.includes('uniform') || message.includes('clothes')) {
    addBotMessage("Our uniform collection includes standard school uniforms in various sizes, PE kits, and accessories like ties and badges. All uniforms can be customized with your school logo. What type of uniform are you looking for?");
    addQuickReplies(["School uniforms", "PE kits", "Accessories", "Sizing guide"]);
  }
  else if (message.includes('dorm') || message.includes('dormitory') || message.includes('boarding')) {
    addBotMessage("For dormitory students, we offer bedding sets, desk organizers, storage solutions, and personal care kits. Would you like details on any specific dorm supplies?");
    addQuickReplies(["Bedding sets", "Desk supplies", "Storage solutions", "Personal care"]);
  }
  else if (message.includes('delivery') || message.includes('shipping')) {
    addBotMessage("We offer free standard delivery for orders over â‚µ1000. Standard delivery takes 3-5 business days, while express delivery (additional $15) takes 1-2 business days. International shipping is also available. What else would you like to know about our delivery options?");
    addQuickReplies(["Delivery timeframes", "International shipping", "Track my order"]);
  }
  else if (message.includes('price') || message.includes('cost') || message.includes('discount')) {
    addBotMessage("Our prices are competitive and we regularly offer seasonal discounts. Bulk orders for schools get special pricing. We also have a loyalty program that gives returning customers additional benefits. Would you like information about our current promotions?");
    addQuickReplies(["Current discounts", "Bulk ordering", "Loyalty program"]);
  }
  else if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
    addBotMessage("Hello there! ðŸ‘‹ How can I help with your back-to-school shopping today?");
    addQuickReplies(["Books", "Uniforms", "Dorm Items", "School Supplies"]);
  }
  else if (message.includes('thank')) {
    addBotMessage("You're welcome! Is there anything else I can help you with today?");
    addQuickReplies(["Yes", "No, thank you"]);
  }
  else if (message.includes('bye') || message.includes('goodbye')) {
    addBotMessage("Thank you for chatting with us today! If you have more questions later, I'll be here to help. Have a great day! ðŸ˜Š");
  }
  else {
    addBotMessage("I'm here to help with all your back-to-school needs. You can ask me about our books, uniforms, dormitory supplies, stationery, or delivery options. What would you like to know?");
    addQuickReplies(["Books", "Uniforms", "Dorm Items", "Stationery", "Delivery"]);
  }
}

// Initialize when the page loads
document.addEventListener('DOMContentLoaded', function() {
  // Make sure the input is focused when chatbot opens
  document.getElementById('chatbot-button').addEventListener('click', function() {
    setTimeout(() => {
      if (document.getElementById('chatbot-box').classList.contains('open')) {
        document.getElementById('user-input').focus();
      }
    }, 300);
  });
  
  // Allow sending message with Enter key
  document.getElementById('user-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      sendMessage();
    }
  });
});
  
      
      // Optional: Close chatbot when clicking outside of it
      // window.onclick = function(event) {
      //   const box = document.getElementById('chatbot-box');
      //   if (!box.contains(event.target) && !document.getElementById('chatbot-button').contains(event.target)) {
      //     box.classList.remove('open');
      //     box.classList.remove('minimized');
//     }
  </script>
  
  
  

  <style>


@keyframes fadeEffect {
    0%, 100% {
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
}
    
    .hero-section .carousel-item {
        padding: 80px 0;
        background-color: #f8f9fa;
    }
    
    .hero-image-wrap img {
        max-height: 400px;
        width: 100%;
        object-fit: cover;
    }
    
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        background-color: rgba(0,0,0,0.3);
        border-radius: 50%;
    }
    
    /* Existing styles from previous template */
    .product-card {
        transition: transform 0.3s ease;
    }
    
    .product-card:hover {
        transform: translateY(-5px);
    }
    
    .rating-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(255, 255, 255, 0.9);
        padding: 5px 10px;
        border-radius: 20px;
    }
    
    .card-img-top {
        height: 200px;
        object-fit: cover;
    }
    
    .price {
        color: #2c3e50;
        font-weight: 600;
    }
    
    .btn-outline-primary {
        border-radius: 20px;
    }

.hero-section {
    position: relative;
    background: #6bbdf3;
    /* animation: fadeEffect 20s ease infinite; */
}

@keyframes fadeEffect {
    0%, 100% {
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
}
    
    .hero-section .carousel-item {
        padding: 80px 0;
        background-color: #f8f9fa;
    }
    
    .hero-image-wrap img {
        max-height: 400px;
        width: 100%;
        object-fit: cover;
    }
    
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        background-color: rgba(0,0,0,0.3);
        border-radius: 50%;
    }
    
    /* Existing styles from previous template */
    .product-card {
        transition: transform 0.3s ease;
    }
    
    .product-card:hover {
        transform: translateY(-5px);
    }
    
    .rating-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(255, 255, 255, 0.9);
        padding: 5px 10px;
        border-radius: 20px;
    }
    
    .card-img-top {
        height: 200px;
        object-fit: cover;
    }
    
    .price {
        color: #2c3e50;
        font-weight: 600;
    }
    
    .btn-outline-primary {
        border-radius: 20px;
    }

    /* Chatbot Container */
    #chatbot-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #0d6efd;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    #chatbot-button:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
    }
    
    .chatbot-button-content {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .pulse-ring {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      animation: pulse 2s infinite;
      background-color: rgba(13, 110, 253, 0.5);
    }
    
    @keyframes pulse {
      0% {
        transform: scale(1);
        opacity: 0.7;
      }
      70% {
        transform: scale(1.3);
        opacity: 0;
      }
      100% {
        transform: scale(1.3);
        opacity: 0;
      }
    }
    
    #chatbot-box {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 350px;
      height: 500px;
      background: white;
      border-radius: 12px;
      display: none;
      flex-direction: column;
      box-shadow: 0 5px 25px rgba(0,0,0,0.2);
      z-index: 1000;
      overflow: hidden;
      transition: all 0.3s ease;
      animation: slideUp 0.3s ease;
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    #chatbot-box.open {
      display: flex;
    }
    
    #chatbot-box.minimized {
      height: 60px;
      overflow: hidden;
    }
    
    /* Header Styling */
    #chatbot-header {
      background-color: #0d6efd;
      color: white;
      padding: 12px 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
    }
    
    .chatbot-title {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-size: 16px;
    }
    
    .chatbot-logo {
      width: 24px;
      height: 24px;
      margin-right: 8px;
      border-radius: 50%;
    }
    
    .chatbot-controls button {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      margin-left: 10px;
      opacity: 0.8;
      transition: all 0.2s;
    }
    
    .chatbot-controls button:hover {
      opacity: 1;
      transform: scale(1.1);
    }
    
    /* Messages Area */
    #chatbot-messages {
      padding: 15px;
      flex-grow: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
      background-color: #f8f9fa;
    }
    
    .bot-message, .user-message {
      display: flex;
      max-width: 85%;
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    
    .bot-message {
      align-self: flex-start;
    }
    
    .user-message {
      align-self: flex-end;
      flex-direction: row-reverse;
    }
    
    .bot-avatar, .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 8px;
      flex-shrink: 0;
    }
    
    .user-message .user-avatar {
      margin-right: 0;
      margin-left: 8px;
    }
    
    .bot-avatar {
      background-color: #0d6efd;
      color: white;
    }
    
    .user-avatar {
      background-color: #6c757d;
      color: white;
    }
    
    .message-content {
      background: white;
      padding: 10px 12px;
      border-radius: 12px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
      position: relative;
    }
    
    .bot-message .message-content {
      border-top-left-radius: 0;
    }
    
    .user-message .message-content {
      background-color: #e9f2ff;
      border-top-right-radius: 0;
    }
    
    .message-content p {
      margin: 0;
      font-size: 14px;
      line-height: 1.4;
    }
    
    .timestamp {
      display: block;
      font-size: 10px;
      color: #6c757d;
      margin-top: 4px;
    }
    
    /* Quick Replies */
    .quick-replies {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 8px 0;
    }
    
    .quick-replies button {
      background-color: white;
      border: 1px solid #0d6efd;
      color: #0d6efd;
      border-radius: 16px;
      padding: 6px 12px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .quick-replies button:hover {
      background-color: #0d6efd;
      color: white;
    }
    
    /* Typing Indicator */
    #typing-indicator {
      padding: 10px 15px;
      font-size: 12px;
      color: #6c757d;
      display: flex;
      align-items: center;
      gap: 8px;
      background-color: #f8f9fa;
    }
    
    .dot-typing {
      position: relative;
      width: 6px;
      height: 6px;
      border-radius: 5px;
      background-color: #0d6efd;
      animation: dotTyping 1.5s infinite linear;
    }
    
    .dot-typing::before,
    .dot-typing::after {
      content: '';
      position: absolute;
      top: 0;
      width: 6px;
      height: 6px;
      border-radius: 5px;
      background-color: #0d6efd;
      animation: dotTyping 1.5s infinite linear;
    }
    
    .dot-typing::before {
      left: -12px;
      animation-delay: 0s;
    }
    
    .dot-typing::after {
      left: 12px;
      animation-delay: 0.5s;
    }
    
    @keyframes dotTyping {
      0% {
        transform: scale(1);
        opacity: 0.7;
      }
      50% {
        transform: scale(1.2);
        opacity: 1;
      }
      100% {
        transform: scale(1);
        opacity: 0.7;
      }
    }
    
    /* Input Area */
    #chatbot-input {
      display: flex;
      gap: 10px;
      padding: 15px;
      background-color: white;
      border-top: 1px solid #e9ecef;
    }
    
    #chatbot-input input {
      flex: 1;
      border: 1px solid #ced4da;
      border-radius: 20px;
      padding: 10px 15px;
      font-size: 14px;
      outline: none;
      transition: border-color 0.3s;
    }
    
    #chatbot-input input:focus {
      border-color: #0d6efd;
      box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.25);
    }
    
    #chatbot-input button {
      background-color: #0d6efd;
      color: white;
      border: none;
      border-radius: 20px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    #chatbot-input button:hover {
      background-color: #0b5ed7;
      transform: scale(1.05);
    }

    /* Animated Title Underline */
.animated-title {
  display: inline-block;
}

.title-underline {
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 4px;
  background-color: #0d6efd;
  border-radius: 2px;
}

/* Icon Circles */
.icon-circle {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: #e9f2ff;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
  transition: all 0.3s ease;
}

/* Card Hover Effects */
.hover-card {
  transition: all 0.3s ease;
  overflow: hidden;
}

.hover-card:hover {
  transform: translateY(-10px);
}

.hover-card:hover .icon-circle {
  background-color: #0d6efd;
}

.hover-card:hover .icon-circle i {
  color: white !important;
}

/* Image Overlay */
.image-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 30%;
  background: linear-gradient(to top, rgba(13, 110, 253, 0.2), transparent);
}

/* Blockquote Styling */
.blockquote {
  position: relative;
}

.blockquote:before {
  content: '"';
  font-size: 4rem;
  position: absolute;
  top: -20px;
  left: 10px;
  color: rgba(13, 110, 253, 0.1);
  font-family: serif;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .title-underline {
    width: 60px;
  }
}
    </style>
  


<!-- Bootstrap JS and Popper.js for Carousel Functionality -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var heroCarousel = new bootstrap.Carousel(document.getElementById('heroCarousel'), {
            interval: 20000, // Change slide every 30 seconds
            ride: 'carousel'
        });
    });
</script>

{% endblock %}




  